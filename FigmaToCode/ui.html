<!-- <h2>Rectangle Creator</h2>
<p>Count: <input id="count" value="5"></p>
<button id="create">Create</button>
<button id="cancel">Cancel</button> -->
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <div id="div-container"></div>
</body>

</html>
<script>
  let components = [];
  onmessage = ({ data }) => {
    const pluginData = {
      height : data.pluginMessage.height,
      width : data.pluginMessage.width,
      x : data.pluginMessage.x,
      y : data.pluginMessage.y,
    }
    components.push(pluginData)
    createDiv(components);
  };


</script>

<script>
  function createDiv(components) {
    let htmlCode = '';
    components.forEach(element => {
      htmlCode = htmlCode + getHtmlCodeDiv(element);
    });

    document.getElementById('div-container').innerText = htmlCode;
  }
</script>

<script>
  function getHtmlCodeDiv(element) {
    const divHtml = `
    <div 
        style='
        width:${element.width}; 
        height:${element.height};
        position:${element.position};
        top:${element.pos_y};
        left:${element.pos_x}
        '>
    </div>
    `;
    return divHtml;
  }

</script>